    <h1>Pet Detective - App</h1>

    <div id="app-content" class="app-content">

      <table>
        <thead>
          <tr>
            <th>App</th>
            <th>Monitor</th>
            <th>Last Contact</th>
          </tr>
        </thead>
        <tbody data-bind="foreach: list">
          <tr data-bind="click: click">
            <td data-bind="text: appname"></td>
            <td data-bind="text: monname"></td>
            <td data-bind="text: received"></td>
          </tr>
        </tbody>
      </table>

    </div>

    <script>

    function App( _id, _appname, _monname, _received ) {
      var self = this;

      self.click = function(e) {
        console.log( self.id() );
        avm.observationId( self.id() );

        $.get( "page/observation.htm", function( content ) {
          $( ".content" ).html( content );
        });

      }

      self.id = ko.observable( _id );
      self.appname = ko.observable( _appname );
      self.monname = ko.observable( _monname );
      self.received = ko.observable( _received );
    }

    function AppViewModel() {
      var self = this;

      self.list = ko.observableArray();
      self.observationId = ko.observable();
      self.add = function( id, appname, monname, received ) {
        var app = new App( id, appname, monname, received );
        self.list.push( app );
      }
    }

    var avm = new AppViewModel();
    ko.applyBindings( avm, document.getElementById( 'app-content' ) );

    $.getJSON( "lastcontact", function( _l ) {
      _.each( _l, function(el) {
        avm.add( el.id, el.app_key, el.mon_key, el.received );
      });
    });

    </script>
